(this.webpackJsonpairbnb=this.webpackJsonpairbnb||[]).push([[8],{128:function(e,t,a){},129:function(e,t,a){},157:function(e,t,a){"use strict";a.r(t);var n=a(136),c=a(8),l=a(1),r=a.n(l),s=(a(128),a(129),a(132)),o=a.n(s),i=a(22),m=a(76),u=a(130),d=a(131),f=a(16),h=a(15),E=a.n(h),p=a(2),b=a(12);var g=function(e){var t=e.img,a=e.location,n=e.title,l=e.description,s=e.star,h=e.price,g=e.total,N=e.roomId,v=e.custId,y=e.startDate,O=e.endDate,_=Object(b.b)(),j=Object(c.a)(_,1)[0].token,k=Object(p.g)();return r.a.createElement("div",{className:"searchResult"},r.a.createElement("img",{src:t}),r.a.createElement(i.a,{className:"searchResult_heart",style:{color:"red"}}),r.a.createElement("div",{className:"searchResult_info"},r.a.createElement("div",{className:"searchResult_infoTop"},r.a.createElement("h3",null,r.a.createElement("strong",null,n)),r.a.createElement("p",null,a),r.a.createElement("br",null),r.a.createElement("div",{className:"amenities"},"WI-FI"===l?r.a.createElement("span",{className:"elements"},r.a.createElement(i.c,null)," WI-FI"):" ","Refrigarator"===l?r.a.createElement("span",{className:"elements"},r.a.createElement(u.a,null)," Refrigarator"):" ","Breakfast"===l?r.a.createElement("span",{className:"elements"},r.a.createElement(f.c,null)," Breakfast"):" ","WI-FI"!==l&&"Breakfast"!=l&&"Refrigarator"!=l?r.a.createElement("span",{className:"elements"},l):" ",r.a.createElement("span",{className:"elements"}," ",r.a.createElement(m.c,null)," Free Parking"),r.a.createElement("span",{className:"elements"},r.a.createElement(d.a,null)," First Aid"))),r.a.createElement("div",{className:"searchResult_infoBottom"},r.a.createElement("div",{className:"searchResult_stars"},r.a.createElement(o.a,{className:"searchResult_star"}),r.a.createElement("p",null,r.a.createElement("strong",{style:{fontSize:"15px"}},s))),r.a.createElement("div",{className:"booknow"},r.a.createElement("button",{id:N,style:{padding:"10px 12px",outline:"none",fontWeight:"600",background:"rgb(230, 30, 77) 0%",border:"none",borderRadius:"55px",color:"white"},onClick:function(e){var t=window.confirm("Book the hotel"),a=(e.target.id,Date(),function(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()}),n=a(Date());t?E.a.post("http://localhost:8000/reservation",{data:{roomId:parseInt(e.target.id),custId:v,bookingDate:n,startDate:a(y),endDate:a(O),amount:h}},{headers:{Authorization:"Bearer "+j}}).then((function(e){alert(e.data),k.push("/")})).catch((function(e){alert(e)})):console.log("Booking Cancelled !!!")}},"Book Now")),r.a.createElement("div",{className:"searchResult_price"},r.a.createElement("h3",null,r.a.createElement(m.d,null),g,"/ night + gst  ",r.a.createElement(m.d,null)," ",.01*g*18),r.a.createElement("p",{style:{fontSize:"15px",color:"rgb(113, 113, 113)",textDecoration:"underline"}},r.a.createElement(m.d,{style:{fontSize:"15px !important"}})," ",h+.01*h*18," total ")))))};t.default=function(){var e=Object(l.useState)([]),t=Object(c.a)(e,2),a=t[0],s=t[1],o=Object(b.b)(),i=Object(c.a)(o,1)[0].user_details,m=Object(l.useState)([]),u=Object(c.a)(m,2),d=u[0],f=u[1],h=Object(l.useState)({}),N=Object(c.a)(h,2),v=N[0],y=N[1],O=Object(l.useState)([]),_=Object(c.a)(O,2),j=_[0],k=_[1],D=Object(l.useState)([]),I=Object(c.a)(D,2),x=I[0],S=I[1],R=[],w=Object(l.useState)([]),A=Object(c.a)(w,2),F=A[0],B=A[1];Object(l.useEffect)((function(){R=F,F.length>0?function(){for(var e=[],t=function(t){d.map((function(a){a.facility===F[t]&&e.push(a)}))},a=0;a<F.length;a++)t(a);for(var n=function(t){d.map((function(a){a.type_name===F[t]&&e.push(a)}))},c=0;c<F.length;c++)n(c);f(e)}():0===F.length&&f(a)}),[F]);var M=Object(p.h)(),z=M.startdate,C=M.enddate,T=M.persons;z=new Date(z),C=new Date(C);var J=(z.getTime()-C.getTime())/864e5,L=["January","Febrauary","March","April","May","June","July","August","September","October","November","December"];function P(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()}var W=P(z),Y=P(C),q="http://localhost:8000/rooms/details/".concat(W,"/").concat(Y),G="http://localhost:8000/rooms/aminities",H="http://localhost:8000/room/types",K="http://localhost:8000/hotel/details";Object(l.useEffect)((function(){E.a.get(K).then((function(e){y(e.data)})).catch((function(e){alert(e)}))}),[K]),Object(l.useEffect)((function(){E.a.get(q).then((function(e){f(e.data),s(e.data)})).catch((function(e){alert(e)}))}),[q]),Object(l.useEffect)((function(){E.a.get(G).then((function(e){k(e.data)})).catch((function(e){alert(e)}))}),[G]),Object(l.useEffect)((function(){E.a.get(H).then((function(e){S(e.data)})).catch((function(e){alert(e)}))}),[H]);var Q=function(e){!0===e.target.checked?F.indexOf(e.target.id)<0&&B([].concat(Object(n.a)(F),[e.target.id])):0==e.target.checked&&R.indexOf(e.target.id)>=0&&(F.splice(R.indexOf(e.target.id),1),B(F))};return r.a.createElement("div",{className:"searchPage"},r.a.createElement("div",{className:"searchPage_info"},r.a.createElement("p",null,J," stays- ",z.getDate(),"th ",L[z.getMonth()]," to ",C.getDate(),"th ",L[C.getMonth()]," - ",T," guests"),r.a.createElement("h1",null,"Stays nearby  "),r.a.createElement("div",{className:"categories"},F.map((function(e){return r.a.createElement("span",{className:"chip"},e)})))),r.a.createElement("div",{className:"contents"},r.a.createElement("div",{className:"sidebar"},r.a.createElement("div",{className:"title"},r.a.createElement("span",{className:"name"},"FILTERS"),r.a.createElement("button",{className:"name2",onClick:function(){B([]),f(a);var e=document.querySelectorAll("input"),t=0;for(t=0;t<e.length;t++)e[t].checked=!1}},"CLEAR ALL")),r.a.createElement("div",{className:"title",style:{border:"none"}},r.a.createElement("span",{className:"name",style:{fontSize:"13px",border:"none"}},"AMINITIES")),r.a.createElement("div",{className:"search_categories"},j.map((function(e){return r.a.createElement("div",null,r.a.createElement("input",{type:"checkbox",id:e.facility,value:e.facility_id,className:"checkbox",onChange:Q}),r.a.createElement("label",{for:e.facility,id:e.facility,className:"label",onclick:Q},e.facility))}))),r.a.createElement("div",{className:"title",style:{border:"none"}},r.a.createElement("span",{className:"name",style:{fontSize:"13px",border:"none"}},"ROOM TYPES")),r.a.createElement("div",{className:"search_categories"},x.map((function(e){return r.a.createElement("div",null,r.a.createElement("input",{type:"checkbox",id:e.type_name,value:e.type_id,className:"checkbox",onChange:Q}),r.a.createElement("label",{for:e.type_name,className:"label"},e.type_name))})))),r.a.createElement("div",{className:"main_content"},d.length>0?d.map((function(e){return r.a.createElement(g,{img:e.images,location:v[0].hotel_addr,title:v[0].hotel_name,description:e.facility,star:4.23,price:(e.cost+e.facility_cost)*T,total:e.cost+e.facility_cost,roomId:e.room_id,hotelId:v.hotel_id,startDate:z,endDate:C,custId:i.cust_id})})):r.a.createElement("h2",{style:{textAlign:"center",color:"red"}},"No Results"))))}}}]);
//# sourceMappingURL=8.b7a45c05.chunk.js.map